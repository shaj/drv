15.06.2022
==========

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/blkdev$ make  2>tmp
=============== making all in block_mod.LDD3 =================
make[1]: вход в каталог «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3»
make -C /lib/modules/5.4.0-117-generic/build M=/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3 modules
make[2]: вход в каталог «/usr/src/linux-headers-5.4.0-117-generic»
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.o
make[2]: выход из каталога «/usr/src/linux-headers-5.4.0-117-generic»
make[1]: выход из каталога «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3»
=============== making all in block_mod.LDD_35 =================
make[1]: вход в каталог «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35»
make -C /lib/modules/5.4.0-117-generic/build M=/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35 modules
make[2]: вход в каталог «/usr/src/linux-headers-5.4.0-117-generic»
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.o
make[2]: выход из каталога «/usr/src/linux-headers-5.4.0-117-generic»
make[1]: выход из каталога «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35»
=============== making all in block_mod.ELDD_14 =================
make[1]: вход в каталог «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14»
make -C /lib/modules/5.4.0-117-generic/build M=/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14 modules
make[2]: вход в каталог «/usr/src/linux-headers-5.4.0-117-generic»
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.o
make[2]: выход из каталога «/usr/src/linux-headers-5.4.0-117-generic»
make[1]: выход из каталога «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14»
=============== making all in dubfl =================
make[1]: вход в каталог «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl»
make -C /lib/modules/5.4.0-117-generic/build M=/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl modules
make[2]: вход в каталог «/usr/src/linux-headers-5.4.0-117-generic»
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.o
make[2]: выход из каталога «/usr/src/linux-headers-5.4.0-117-generic»
make[1]: выход из каталога «/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl»




----------------------------------------------------------------------------------------------------------------------------------------------------


/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c: In function ‘xfer_bio’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:48:25: error: ‘struct bio’ has no member named ‘bi_sector’
   48 |    sector_t sector = bio->bi_sector;
      |                         ^~
In file included from ./include/linux/blkdev.h:21,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
./include/linux/bio.h:151:14: error: incompatible types when assigning to type ‘int’ from type ‘struct bvec_iter’
  151 |  for (iter = (start);      \
      |              ^
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bio.h:152:13: error: request for member ‘bi_size’ in something not a structure or union
  152 |       (iter).bi_size &&      \
      |             ^
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
In file included from ./include/linux/blk_types.h:10,
                 from ./include/linux/genhd.h:19,
                 from ./include/linux/blkdev.h:11,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/bvec.h:49:3: note: in expansion of macro ‘__bvec_iter_bvec’
   49 |  (__bvec_iter_bvec((bvec), (iter))->bv_page)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:77:3: note: in expansion of macro ‘mp_bvec_iter_page’
   77 |  (mp_bvec_iter_page((bvec), (iter)) +   \
      |   ^~~~~~~~~~~~~~~~~
./include/linux/bvec.h:82:13: note: in expansion of macro ‘bvec_iter_page’
   82 |  .bv_page = bvec_iter_page((bvec), (iter)), \
      |             ^~~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:59:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   59 |  (mp_bvec_iter_offset((bvec), (iter)) / PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:78:3: note: in expansion of macro ‘mp_bvec_iter_page_idx’
   78 |   mp_bvec_iter_page_idx((bvec), (iter)))
      |   ^~~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:82:13: note: in expansion of macro ‘bvec_iter_page’
   82 |  .bv_page = bvec_iter_page((bvec), (iter)), \
      |             ^~~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/bvec.h:59:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   59 |  (mp_bvec_iter_offset((bvec), (iter)) / PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:78:3: note: in expansion of macro ‘mp_bvec_iter_page_idx’
   78 |   mp_bvec_iter_page_idx((bvec), (iter)))
      |   ^~~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:82:13: note: in expansion of macro ‘bvec_iter_page’
   82 |  .bv_page = bvec_iter_page((bvec), (iter)), \
      |             ^~~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
In file included from ./include/linux/list.h:9,
                 from ./include/linux/module.h:9,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:1,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:4: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |    ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:2: error: first argument to ‘__builtin_choose_expr’ not a constant
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |  ^~~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:842:22: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                      ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:842:40: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                                        ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:842:40: note: in definition of macro ‘__typecheck’
  842 |   (!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))
      |                                        ^
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:4: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |    ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:2: error: first argument to ‘__builtin_choose_expr’ not a constant
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |  ^~~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:850:48: note: in definition of macro ‘__is_constexpr’
  850 |  (sizeof(int) == sizeof(*(8 ? ((void *)((long)(x) * 0l)) : (int *)8)))
      |                                                ^
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:4: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |    ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:2: error: first argument to ‘__builtin_choose_expr’ not a constant
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |  ^~~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:858:27: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                           ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:34: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                  ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:34: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                  ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:4: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |    ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:2: error: first argument to ‘__builtin_choose_expr’ not a constant
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |  ^~~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:858:40: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                        ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:858:46: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                              ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:858:46: note: in definition of macro ‘__cmp’
  858 | #define __cmp(x, y, op) ((x) op (y) ? (x) : (y))
      |                                              ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:4: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |    ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:2: error: first argument to ‘__builtin_choose_expr’ not a constant
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |  ^~~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:861:10: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:856:4: note: in expansion of macro ‘__typecheck’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |    ^~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:4: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |    ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:853:25: note: in expansion of macro ‘__is_constexpr’
  853 |   (__is_constexpr(x) && __is_constexpr(y))
      |                         ^~~~~~~~~~~~~~
./include/linux/kernel.h:856:25: note: in expansion of macro ‘__no_side_effects’
  856 |   (__typecheck(x, y) && __no_side_effects(x, y))
      |                         ^~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:24: note: in expansion of macro ‘__safe_cmp’
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |                        ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:867:3: note: in expansion of macro ‘__cmp’
  867 |   __cmp(x, y, op), \
      |   ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:52:12: error: request for member ‘bi_size’ in something not a structure or union
   52 |  min((iter).bi_size,     \
      |            ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:53:6: note: in expansion of macro ‘__bvec_iter_bvec’
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |      ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:53:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   53 |      __bvec_iter_bvec((bvec), (iter))->bv_len - (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:868:3: note: in expansion of macro ‘__cmp_once’
  868 |   __cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))
      |   ^~~~~~~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:2: error: first argument to ‘__builtin_choose_expr’ not a constant
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |  ^~~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:861:25: note: in definition of macro ‘__cmp_once’
  861 |   typeof(x) unique_x = (x);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/kernel.h:875:19: note: in expansion of macro ‘__careful_cmp’
  875 | #define min(x, y) __careful_cmp(x, y, <)
      |                   ^~~~~~~~~~~~~
./include/linux/bvec.h:52:2: note: in expansion of macro ‘min’
   52 |  min((iter).bi_size,     \
      |  ^~~
./include/linux/bvec.h:73:18: note: in expansion of macro ‘mp_bvec_iter_len’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |                  ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:862:10: note: in definition of macro ‘__cmp_once’
  862 |   typeof(y) unique_y = (y);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:862:10: note: in definition of macro ‘__cmp_once’
  862 |   typeof(y) unique_y = (y);  \
      |          ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/kernel.h:862:25: note: in definition of macro ‘__cmp_once’
  862 |   typeof(y) unique_y = (y);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/kernel.h:862:25: note: in definition of macro ‘__cmp_once’
  862 |   typeof(y) unique_y = (y);  \
      |                         ^
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:74:20: note: in expansion of macro ‘bvec_iter_offset’
   74 |        PAGE_SIZE - bvec_iter_offset((bvec), (iter)))
      |                    ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:866:2: error: first argument to ‘__builtin_choose_expr’ not a constant
  866 |  __builtin_choose_expr(__safe_cmp(x, y), \
      |  ^~~~~~~~~~~~~~~~~~~~~
./include/linux/kernel.h:934:27: note: in expansion of macro ‘__careful_cmp’
  934 | #define min_t(type, x, y) __careful_cmp((type)(x), (type)(y), <)
      |                           ^~~~~~~~~~~~~
./include/linux/bvec.h:73:2: note: in expansion of macro ‘min_t’
   73 |  min_t(unsigned, mp_bvec_iter_len((bvec), (iter)),  \
      |  ^~~~~
./include/linux/bvec.h:83:13: note: in expansion of macro ‘bvec_iter_len’
   83 |  .bv_len  = bvec_iter_len((bvec), (iter)), \
      |             ^~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
In file included from ./include/linux/blk_types.h:10,
                 from ./include/linux/genhd.h:19,
                 from ./include/linux/blkdev.h:11,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
./include/linux/bvec.h:45:53: error: request for member ‘bi_idx’ in something not a structure or union
   45 | #define __bvec_iter_bvec(bvec, iter) (&(bvec)[(iter).bi_idx])
      |                                                     ^
./include/linux/bvec.h:56:3: note: in expansion of macro ‘__bvec_iter_bvec’
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |   ^~~~~~~~~~~~~~~~
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:84:15: note: in expansion of macro ‘bvec_iter_offset’
   84 |  .bv_offset = bvec_iter_offset((bvec), (iter)), \
      |               ^~~~~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:56:55: error: request for member ‘bi_bvec_done’ in something not a structure or union
   56 |  (__bvec_iter_bvec((bvec), (iter))->bv_offset + (iter).bi_bvec_done)
      |                                                       ^
./include/linux/bvec.h:70:3: note: in expansion of macro ‘mp_bvec_iter_offset’
   70 |  (mp_bvec_iter_offset((bvec), (iter)) % PAGE_SIZE)
      |   ^~~~~~~~~~~~~~~~~~~
./include/linux/bvec.h:84:15: note: in expansion of macro ‘bvec_iter_offset’
   84 |  .bv_offset = bvec_iter_offset((bvec), (iter)), \
      |               ^~~~~~~~~~~~~~~~
./include/linux/bio.h:30:2: note: in expansion of macro ‘bvec_iter_bvec’
   30 |  bvec_iter_bvec((bio)->bi_io_vec, (iter))
      |  ^~~~~~~~~~~~~~
./include/linux/bio.h:153:11: note: in expansion of macro ‘bio_iter_iovec’
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |           ^~~~~~~~~~~~~~
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
In file included from ./include/linux/blkdev.h:21,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
./include/linux/bio.h:153:41: warning: left-hand operand of comma expression has no effect [-Wunused-value]
  153 |   ((bvl = bio_iter_iovec((bio), (iter))), 1);  \
      |                                         ^
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bio.h:154:45: error: ‘bvec’ is a pointer; did you mean to use ‘->’?
  154 |       bio_advance_iter((bio), &(iter), (bvl).bv_len))
      |                                             ^
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bio.h:154:31: error: passing argument 2 of ‘bio_advance_iter’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  154 |       bio_advance_iter((bio), &(iter), (bvl).bv_len))
      |                               ^~~~~~~
      |                               |
      |                               int *
./include/linux/bio.h:157:2: note: in expansion of macro ‘__bio_for_each_segment’
  157 |  __bio_for_each_segment(bvl, bio, iter, (bio)->bi_iter)
      |  ^~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:50:4: note: in expansion of macro ‘bio_for_each_segment’
   50 |    bio_for_each_segment( bvec, bio, i ) { // Работаем с каждым сегментом независимо.
      |    ^~~~~~~~~~~~~~~~~~~~
./include/linux/bio.h:138:72: note: expected ‘struct bvec_iter *’ but argument is of type ‘int *’
  138 | static inline void bio_advance_iter(struct bio *bio, struct bvec_iter *iter,
      |                                                      ~~~~~~~~~~~~~~~~~~^~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:56:16: error: implicit declaration of function ‘__bio_kmap_atomic’; did you mean ‘__kunmap_atomic’? [-Werror=implicit-function-declaration]
   56 |       buffer = __bio_kmap_atomic( bio, i );
      |                ^~~~~~~~~~~~~~~~~
      |                __kunmap_atomic
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:56:14: warning: assignment to ‘char *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   56 |       buffer = __bio_kmap_atomic( bio, i );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:65:7: error: implicit declaration of function ‘__bio_kunmap_atomic’; did you mean ‘__kunmap_atomic’? [-Werror=implicit-function-declaration]
   65 |       __bio_kunmap_atomic( bio );
      |       ^~~~~~~~~~~~~~~~~~~
      |       __kunmap_atomic
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c: In function ‘xfer_request’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:77:19: error: ‘struct bio’ has no member named ‘bi_size’
   77 |       nsect += bio->bi_size / KERNEL_SECTOR_SIZE;
      |                   ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c: In function ‘simple_request’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:86:10: error: implicit declaration of function ‘blk_fetch_request’; did you mean ‘blk_get_request’? [-Werror=implicit-function-declaration]
   86 |    req = blk_fetch_request( q );
      |          ^~~~~~~~~~~~~~~~~
      |          blk_get_request
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:86:8: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   86 |    req = blk_fetch_request( q );
      |        ^
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:14:38: error: ‘struct request’ has no member named ‘cmd_type’
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                      ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:90:12: note: in expansion of macro ‘blk_fs_request’
   90 |       if( !blk_fs_request( req ) ) {                     // не валидный запрос
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:14:52: error: ‘REQ_TYPE_FS’ undeclared (first use in this function)
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:90:12: note: in expansion of macro ‘blk_fs_request’
   90 |       if( !blk_fs_request( req ) ) {                     // не валидный запрос
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:14:52: note: each undeclared identifier is reported only once for each function it appears in
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:90:12: note: in expansion of macro ‘blk_fs_request’
   90 |       if( !blk_fs_request( req ) ) {                     // не валидный запрос
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:92:10: error: implicit declaration of function ‘__blk_end_request_all’ [-Werror=implicit-function-declaration]
   92 |          __blk_end_request_all( req, -EIO );
      |          ^~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:93:14: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   93 |          req = blk_fetch_request( q );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:98:51: error: ‘struct request’ has no member named ‘buffer’
   98 |       ret = transfer( dev, sector, nr_sectors, req->buffer, rq_data_dir( req ) );
      |                                                   ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:99:12: error: implicit declaration of function ‘__blk_end_request_cur’ [-Werror=implicit-function-declaration]
   99 |       if( !__blk_end_request_cur( req, ret ) )
      |            ^~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:100:14: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  100 |          req = blk_fetch_request( q );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c: In function ‘full_request’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:108:8: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  108 |    req = blk_fetch_request( q );
      |        ^
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:14:38: error: ‘struct request’ has no member named ‘cmd_type’
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                      ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:111:12: note: in expansion of macro ‘blk_fs_request’
  111 |       if( !blk_fs_request( req ) ) {                     // не валидный запрос
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:14:52: error: ‘REQ_TYPE_FS’ undeclared (first use in this function)
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:111:12: note: in expansion of macro ‘blk_fs_request’
  111 |       if( !blk_fs_request( req ) ) {                     // не валидный запрос
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:114:14: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  114 |          req = blk_fetch_request( q );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:119:14: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  119 |          req = blk_fetch_request( q );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c: In function ‘make_request’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:131:4: error: too many arguments to function ‘bio_endio’
  131 |    bio_endio( bio, status );
      |    ^~~~~~~~~
In file included from ./include/linux/blkdev.h:21,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
./include/linux/bio.h:406:13: note: declared here
  406 | extern void bio_endio(struct bio *);
      |             ^~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c: In function ‘setup_device’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:156:46: error: passing argument 2 of ‘blk_queue_make_request’ from incompatible pointer type [-Werror=incompatible-pointer-types]
  156 |          blk_queue_make_request( dev->queue, make_request );
      |                                              ^~~~~~~~~~~~
      |                                              |
      |                                              void (*)(struct request_queue *, struct bio *)
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
./include/linux/blkdev.h:1078:60: note: expected ‘blk_qc_t (*)(struct request_queue *, struct bio *)’ {aka ‘unsigned int (*)(struct request_queue *, struct bio *)’} but argument is of type ‘void (*)(struct request_queue *, struct bio *)’
 1078 | extern void blk_queue_make_request(struct request_queue *, make_request_fn *);
      |                                                            ^~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:159:23: error: implicit declaration of function ‘blk_init_queue’; did you mean ‘blk_put_queue’? [-Werror=implicit-function-declaration]
  159 |          dev->queue = blk_init_queue( full_request, &dev->lock );
      |                       ^~~~~~~~~~~~~~
      |                       blk_put_queue
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:159:21: warning: assignment to ‘struct request_queue *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  159 |          dev->queue = blk_init_queue( full_request, &dev->lock );
      |                     ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:166:21: warning: assignment to ‘struct request_queue *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  166 |          dev->queue = blk_init_queue( simple_request, &dev->lock );
      |                     ^
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:1:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/../common.h:23:18: warning: this statement may fall through [-Wimplicit-fallthrough=]
   23 | #define LOG(...) printk( KERN_INFO "+ "__VA_ARGS__ )
      |                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:163:10: note: in expansion of macro ‘LOG’
  163 |          LOG( "bad request mode %d, using simple\n", mode );
      |          ^~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.c:165:7: note: here
  165 |       case RM_SIMPLE:
      |       ^~~~
cc1: some warnings being treated as errors
make[3]: *** [scripts/Makefile.build:270: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3/block_mod_s.o] Ошибка 1
make[2]: *** [Makefile:1762: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD3] Ошибка 2
make[1]: *** [Makefile:11: default] Ошибка 2
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.c:11:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c: In function ‘my_request’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:6:9: error: implicit declaration of function ‘blk_fetch_request’; did you mean ‘blk_get_request’? [-Werror=implicit-function-declaration]
    6 |    rq = blk_fetch_request( q );
      |         ^~~~~~~~~~~~~~~~~
      |         blk_get_request
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:6:7: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
    6 |    rq = blk_fetch_request( q );
      |       ^
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.c:1:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../common.h:14:38: error: ‘struct request’ has no member named ‘cmd_type’
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                      ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:9:12: note: in expansion of macro ‘blk_fs_request’
    9 |       if( !blk_fs_request( rq ) ) {
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../common.h:14:52: error: ‘REQ_TYPE_FS’ undeclared (first use in this function)
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:9:12: note: in expansion of macro ‘blk_fs_request’
    9 |       if( !blk_fs_request( rq ) ) {
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../common.h:14:52: note: each undeclared identifier is reported only once for each function it appears in
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:9:12: note: in expansion of macro ‘blk_fs_request’
    9 |       if( !blk_fs_request( rq ) ) {
      |            ^~~~~~~~~~~~~~
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.c:11:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:25:25: error: ‘struct request’ has no member named ‘buffer’
   25 |          memcpy( ptr, rq->buffer, size );
      |                         ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:28:20: error: ‘struct request’ has no member named ‘buffer’
   28 |          memcpy( rq->buffer, ptr, size );
      |                    ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:31:12: error: implicit declaration of function ‘__blk_end_request_cur’ [-Werror=implicit-function-declaration]
   31 |       if( !__blk_end_request_cur( rq, res ) )
      |            ^~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/../request.c:32:13: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   32 |          rq = blk_fetch_request( q );
      |             ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.c: In function ‘blk_init’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.c:22:30: error: implicit declaration of function ‘blk_init_queue’; did you mean ‘blk_put_queue’? [-Werror=implicit-function-declaration]
   22 |    if( !( my_request_queue = blk_init_queue( my_request, &lock ) ) ) {
      |                              ^~~~~~~~~~~~~~
      |                              blk_put_queue
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.c:22:28: warning: assignment to ‘struct request_queue *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   22 |    if( !( my_request_queue = blk_init_queue( my_request, &lock ) ) ) {
      |                            ^
cc1: some warnings being treated as errors
make[3]: *** [scripts/Makefile.build:270: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35/block_mod_c.o] Ошибка 1
make[2]: *** [Makefile:1762: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.LDD_35] Ошибка 2
make[1]: *** [Makefile:13: default] Ошибка 2
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.c:11:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c: In function ‘my_request’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:6:9: error: implicit declaration of function ‘blk_fetch_request’; did you mean ‘blk_get_request’? [-Werror=implicit-function-declaration]
    6 |    rq = blk_fetch_request( q );
      |         ^~~~~~~~~~~~~~~~~
      |         blk_get_request
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:6:7: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
    6 |    rq = blk_fetch_request( q );
      |       ^
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.c:1:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../common.h:14:38: error: ‘struct request’ has no member named ‘cmd_type’
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                      ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:9:12: note: in expansion of macro ‘blk_fs_request’
    9 |       if( !blk_fs_request( rq ) ) {
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../common.h:14:52: error: ‘REQ_TYPE_FS’ undeclared (first use in this function)
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:9:12: note: in expansion of macro ‘blk_fs_request’
    9 |       if( !blk_fs_request( rq ) ) {
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../common.h:14:52: note: each undeclared identifier is reported only once for each function it appears in
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:9:12: note: in expansion of macro ‘blk_fs_request’
    9 |       if( !blk_fs_request( rq ) ) {
      |            ^~~~~~~~~~~~~~
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.c:11:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:25:25: error: ‘struct request’ has no member named ‘buffer’
   25 |          memcpy( ptr, rq->buffer, size );
      |                         ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:28:20: error: ‘struct request’ has no member named ‘buffer’
   28 |          memcpy( rq->buffer, ptr, size );
      |                    ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:31:12: error: implicit declaration of function ‘__blk_end_request_cur’ [-Werror=implicit-function-declaration]
   31 |       if( !__blk_end_request_cur( rq, res ) )
      |            ^~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/../request.c:32:13: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   32 |          rq = blk_fetch_request( q );
      |             ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.c: In function ‘blk_init’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.c:22:21: error: implicit declaration of function ‘blk_init_queue’; did you mean ‘blk_put_queue’? [-Werror=implicit-function-declaration]
   22 |    myblkdev_queue = blk_init_queue( my_request, &myblkdev_lock ); // Allocate a request_queue associated with this device
      |                     ^~~~~~~~~~~~~~
      |                     blk_put_queue
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.c:22:19: warning: assignment to ‘struct request_queue *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   22 |    myblkdev_queue = blk_init_queue( my_request, &myblkdev_lock ); // Allocate a request_queue associated with this device
      |                   ^
cc1: some warnings being treated as errors
make[3]: *** [scripts/Makefile.build:270: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14/block_mod_e.o] Ошибка 1
make[2]: *** [Makefile:1762: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/block_mod.ELDD_14] Ошибка 2
make[1]: *** [Makefile:11: default] Ошибка 2
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c: In function ‘my_request’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:65:10: error: implicit declaration of function ‘blk_fetch_request’; did you mean ‘blk_get_request’? [-Werror=implicit-function-declaration]
   65 |    req = blk_fetch_request( q );
      |          ^~~~~~~~~~~~~~~~~
      |          blk_get_request
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:65:8: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   65 |    req = blk_fetch_request( q );
      |        ^
In file included from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:1:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/../common.h:14:38: error: ‘struct request’ has no member named ‘cmd_type’
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                      ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:68:12: note: in expansion of macro ‘blk_fs_request’
   68 |       if( !blk_fs_request( req ) ) {
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/../common.h:14:52: error: ‘REQ_TYPE_FS’ undeclared (first use in this function)
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:68:12: note: in expansion of macro ‘blk_fs_request’
   68 |       if( !blk_fs_request( req ) ) {
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/../common.h:14:52: note: each undeclared identifier is reported only once for each function it appears in
   14 | #define blk_fs_request(rq)      ((rq)->cmd_type == REQ_TYPE_FS)
      |                                                    ^~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:68:12: note: in expansion of macro ‘blk_fs_request’
   68 |       if( !blk_fs_request( req ) ) {
      |            ^~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:70:10: error: implicit declaration of function ‘__blk_end_request_all’ [-Werror=implicit-function-declaration]
   70 |          __blk_end_request_all( req, -EIO );
      |          ^~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:71:14: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   71 |          req = blk_fetch_request( q );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:80:14: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   80 |          req = blk_fetch_request( q );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:83:45: error: ‘struct request’ has no member named ‘buffer’
   83 |       transfer( dev, sector, nr_sectors, req->buffer, rq_data_dir( req ) );
      |                                             ^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:84:12: error: implicit declaration of function ‘__blk_end_request_cur’ [-Werror=implicit-function-declaration]
   84 |       if( !__blk_end_request_cur( req, 0 ) )
      |            ^~~~~~~~~~~~~~~~~~~~~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:85:14: warning: assignment to ‘struct request *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
   85 |          req = blk_fetch_request( q );
      |              ^
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c: In function ‘save_file’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:96:15: error: implicit declaration of function ‘get_ds’; did you mean ‘get_fs’? [-Werror=implicit-function-declaration]
   96 |       set_fs( get_ds() );
      |               ^~~~~~
      |               get_fs
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:96:15: error: incompatible type for argument 1 of ‘set_fs’
   96 |       set_fs( get_ds() );
      |               ^~~~~~~~
      |               |
      |               int
In file included from ./include/linux/uaccess.h:11,
                 from ./arch/x86/include/asm/fpu/xstate.h:5,
                 from ./arch/x86/include/asm/pgtable.h:26,
                 from ./include/linux/mm.h:99,
                 from ./include/linux/bvec.h:13,
                 from ./include/linux/blk_types.h:10,
                 from ./include/linux/genhd.h:19,
                 from ./include/linux/blkdev.h:11,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:1:
./arch/x86/include/asm/uaccess.h:29:40: note: expected ‘mm_segment_t’ {aka ‘struct <anonymous>’} but argument is of type ‘int’
   29 | static inline void set_fs(mm_segment_t fs)
      |                           ~~~~~~~~~~~~~^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c: In function ‘load_file’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:147:15: error: incompatible type for argument 1 of ‘set_fs’
  147 |       set_fs( get_ds() );
      |               ^~~~~~~~
      |               |
      |               int
In file included from ./include/linux/uaccess.h:11,
                 from ./arch/x86/include/asm/fpu/xstate.h:5,
                 from ./arch/x86/include/asm/pgtable.h:26,
                 from ./include/linux/mm.h:99,
                 from ./include/linux/bvec.h:13,
                 from ./include/linux/blk_types.h:10,
                 from ./include/linux/genhd.h:19,
                 from ./include/linux/blkdev.h:11,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/../common.h:3,
                 from /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:1:
./arch/x86/include/asm/uaccess.h:29:40: note: expected ‘mm_segment_t’ {aka ‘struct <anonymous>’} but argument is of type ‘int’
   29 | static inline void set_fs(mm_segment_t fs)
      |                           ~~~~~~~~~~~~~^~
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c: In function ‘setup_device’:
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:206:23: error: implicit declaration of function ‘blk_init_queue’; did you mean ‘blk_put_queue’? [-Werror=implicit-function-declaration]
  206 |    if( ( dev->queue = blk_init_queue( my_request, &dev->lock ) ) == NULL ) {
      |                       ^~~~~~~~~~~~~~
      |                       blk_put_queue
/home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.c:206:21: warning: assignment to ‘struct request_queue *’ from ‘int’ makes pointer from integer without a cast [-Wint-conversion]
  206 |    if( ( dev->queue = blk_init_queue( my_request, &dev->lock ) ) == NULL ) {
      |                     ^
cc1: some warnings being treated as errors
make[3]: *** [scripts/Makefile.build:270: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl/dubfl.o] Ошибка 1
make[2]: *** [Makefile:1762: /home/olej/2022/own.BOOKs/BHV.kernel/examples/blkdev/dubfl] Ошибка 2
make[1]: *** [Makefile:13: default] Ошибка 2
make: *** [Makefile:7: all] Ошибка 2

----------------------------------------------------------------------------------------------------------------------------------------------------
====================================================================================================================================================

