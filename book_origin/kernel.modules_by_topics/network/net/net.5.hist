18.06.2022
==========


olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo insmod transmit_simple.ko debug=2
olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo rmmod transmit_simple
olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ dmesg | tail -n150
[ 2214.430803] ! 00 00 00 01 00 03 14 eb 14 eb 00 1e 2b 51 6c 2f 
[ 2214.430807] ! 00 00 00 01 00 00 00 00 00 00 04 52 34 32 30 00 

[ 2214.474722] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2214.474728] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 2214.474732] ! 4b 0b 00 9c 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2214.474736] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2214.474740] ! 00 00 00 00 00 fb 14 e9 14 e9 00 9c cd 5d 00 00 
[ 2214.474744] ! 00 00 00 02 00 00 00 02 00 00 01 61 01 39 01 36 
[ 2214.474748] ! 01 32 01 63 01 33 01 64 01 65 01 62 01 35 01 33 
[ 2214.474751] ! 01 66 01 62 01 31 01 30 01 64 01 30 01 30 01 30 
[ 2214.474755] ! 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30 
[ 2214.474759] ! 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61 
[ 2214.474763] ! 72 70 61 00 00 ff 00 01 04 52 34 32 30 05 6c 6f 
[ 2214.474767] ! 63 61 6c 00 00 ff 00 01 c0 5a 00 1c 00 01 00 00 
[ 2214.474770] ! 00 78 00 10 fe 80 00 00 00 00 00 00 d0 1b f3 5b 
[ 2214.474774] ! ed 3c 26 9a c0 0c 00 0c 00 01 00 00 00 78 00 02 

[ 2214.680725] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2214.680731] ! 33 33 00 01 00 03 00 01 02 03 04 05 86 dd 60 03 
[ 2214.680735] ! c7 bf 00 1e 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2214.680739] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2214.680743] ! 00 00 00 01 00 03 14 eb 14 eb 00 1e 2b 51 6c 2f 
[ 2214.680747] ! 00 00 00 01 00 00 00 00 00 00 04 52 34 32 30 00 

[ 2214.725516] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2214.725522] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 2214.725526] ! 4b 0b 00 9c 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2214.725530] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2214.725534] ! 00 00 00 00 00 fb 14 e9 14 e9 00 9c cd 5d 00 00 
[ 2214.725538] ! 00 00 00 02 00 00 00 02 00 00 01 61 01 39 01 36 
[ 2214.725542] ! 01 32 01 63 01 33 01 64 01 65 01 62 01 35 01 33 
[ 2214.725545] ! 01 66 01 62 01 31 01 30 01 64 01 30 01 30 01 30 
[ 2214.725549] ! 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30 
[ 2214.725553] ! 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61 
[ 2214.725557] ! 72 70 61 00 00 ff 00 01 04 52 34 32 30 05 6c 6f 
[ 2214.725560] ! 63 61 6c 00 00 ff 00 01 c0 5a 00 1c 00 01 00 00 
[ 2214.725564] ! 00 78 00 10 fe 80 00 00 00 00 00 00 d0 1b f3 5b 
[ 2214.725568] ! ed 3c 26 9a c0 0c 00 0c 00 01 00 00 00 78 00 02 

[ 2214.926303] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2214.926309] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 2214.926314] ! 4b 0b 00 90 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2214.926317] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2214.926321] ! 00 00 00 00 00 fb 14 e9 14 e9 00 90 cb cd 00 00 
[ 2214.926325] ! 84 00 00 00 00 02 00 00 00 00 01 61 01 39 01 36 
[ 2214.926329] ! 01 32 01 63 01 33 01 64 01 65 01 62 01 35 01 33 
[ 2214.926332] ! 01 66 01 62 01 31 01 30 01 64 01 30 01 30 01 30 
[ 2214.926336] ! 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30 
[ 2214.926340] ! 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61 
[ 2214.926344] ! 72 70 61 00 00 0c 80 01 00 00 00 78 00 0c 04 52 
[ 2214.926348] ! 34 32 30 05 6c 6f 63 61 6c 00 c0 60 00 1c 80 01 
[ 2214.926351] ! 00 00 00 78 00 10 fe 80 00 00 00 00 00 00 d0 1b 

[ 2215.016930] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2215.016944] ! 33 33 00 00 00 16 00 01 02 03 04 05 86 dd 60 00 
[ 2215.016946] ! 00 00 00 38 00 01 fe 80 00 00 00 00 00 00 d0 1b 
[ 2215.016949] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2215.016952] ! 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00 
[ 2215.016955] ! 94 a5 00 00 00 02 04 00 00 00 ff 02 00 00 00 00 
[ 2215.016957] ! 00 00 00 00 00 00 00 01 00 03 04 00 00 00 ff 02 

[ 2215.112926] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2215.112965] ! 33 33 00 00 00 16 00 01 02 03 04 05 86 dd 60 00 
[ 2215.112971] ! 00 00 00 38 00 01 fe 80 00 00 00 00 00 00 d0 1b 
[ 2215.112976] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2215.112981] ! 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00 
[ 2215.112986] ! 94 a5 00 00 00 02 04 00 00 00 ff 02 00 00 00 00 
[ 2215.112993] ! 00 00 00 00 00 00 00 01 00 03 04 00 00 00 ff 02 

[ 2215.270155] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2215.270162] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 2215.270166] ! 4b 0b 00 95 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2215.270170] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2215.270173] ! 00 00 00 00 00 fb 14 e9 14 e9 00 95 43 c0 00 00 
[ 2215.270177] ! 00 00 00 09 00 00 00 00 00 00 04 5f 6e 66 73 04 
[ 2215.270181] ! 5f 74 63 70 05 6c 6f 63 61 6c 00 00 0c 00 01 04 
[ 2215.270185] ! 5f 69 70 70 c0 11 00 0c 00 01 05 5f 69 70 70 73 
[ 2215.270189] ! c0 11 00 0c 00 01 04 5f 66 74 70 c0 11 00 0c 00 
[ 2215.270192] ! 01 07 5f 77 65 62 64 61 76 c0 11 00 0c 00 01 08 
[ 2215.270196] ! 5f 77 65 62 64 61 76 73 c0 11 00 0c 00 01 09 5f 
[ 2215.270200] ! 73 66 74 70 2d 73 73 68 c0 11 00 0c 00 01 04 5f 
[ 2215.270204] ! 73 6d 62 c0 11 00 0c 00 01 0b 5f 61 66 70 6f 76 

[ 2215.931479] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2215.931486] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 2215.931489] ! 4b 0b 00 90 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2215.931493] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2215.931497] ! 00 00 00 00 00 fb 14 e9 14 e9 00 90 cb cd 00 00 
[ 2215.931500] ! 84 00 00 00 00 02 00 00 00 00 01 61 01 39 01 36 
[ 2215.931504] ! 01 32 01 63 01 33 01 64 01 65 01 62 01 35 01 33 
[ 2215.931507] ! 01 66 01 62 01 31 01 30 01 64 01 30 01 30 01 30 
[ 2215.931510] ! 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30 
[ 2215.931514] ! 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61 
[ 2215.931518] ! 72 70 61 00 00 0c 80 01 00 00 00 78 00 0c 04 52 
[ 2215.931521] ! 34 32 30 05 6c 6f 63 61 6c 00 c0 60 00 1c 80 01 
[ 2215.931525] ! 00 00 00 78 00 10 fe 80 00 00 00 00 00 00 d0 1b 

[ 2217.080450] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2217.080458] ! ff ff ff ff ff ff 00 01 02 03 04 05 08 00 45 c0 
[ 2217.080462] ! 01 36 00 00 40 00 40 11 38 f8 00 00 00 00 ff ff 
[ 2217.080466] ! ff ff 00 44 00 43 01 22 09 7a 01 01 06 00 67 36 
[ 2217.080470] ! 0e fe 00 02 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080473] ! 00 00 00 00 00 00 00 01 02 03 04 05 00 00 00 00 
[ 2217.080477] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080481] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080484] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080488] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080491] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080495] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080498] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080502] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080506] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080509] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080513] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080516] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 2217.080520] ! 00 00 00 00 00 00 63 82 53 63 35 01 01 3d 07 01 
[ 2217.080524] ! 00 01 02 03 04 05 37 11 01 02 06 0c 0f 1a 1c 79 
[ 2217.080528] ! 03 21 28 29 2a 77 f9 fc 11 39 02 02 40 0c 04 52 

[ 2217.271461] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2217.271468] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 2217.271472] ! 4b 0b 00 95 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2217.271476] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2217.271480] ! 00 00 00 00 00 fb 14 e9 14 e9 00 95 43 c0 00 00 
[ 2217.271483] ! 00 00 00 09 00 00 00 00 00 00 04 5f 6e 66 73 04 
[ 2217.271487] ! 5f 74 63 70 05 6c 6f 63 61 6c 00 00 0c 00 01 04 
[ 2217.271491] ! 5f 69 70 70 c0 11 00 0c 00 01 05 5f 69 70 70 73 
[ 2217.271495] ! c0 11 00 0c 00 01 04 5f 66 74 70 c0 11 00 0c 00 
[ 2217.271499] ! 01 07 5f 77 65 62 64 61 76 c0 11 00 0c 00 01 08 
[ 2217.271502] ! 5f 77 65 62 64 61 76 73 c0 11 00 0c 00 01 09 5f 
[ 2217.271506] ! 73 66 74 70 2d 73 73 68 c0 11 00 0c 00 01 04 5f 
[ 2217.271510] ! 73 6d 62 c0 11 00 0c 00 01 0b 5f 61 66 70 6f 76 

[ 2217.936803] ! my_hard_start_xmit(mynet0) - sending packet :
[ 2217.936810] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 2217.936814] ! 4b 0b 00 90 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 2217.936818] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 2217.936822] ! 00 00 00 00 00 fb 14 e9 14 e9 00 90 cb cd 00 00 
[ 2217.936826] ! 84 00 00 00 00 02 00 00 00 00 01 61 01 39 01 36 
[ 2217.936830] ! 01 32 01 63 01 33 01 64 01 65 01 62 01 35 01 33 
[ 2217.936833] ! 01 66 01 62 01 31 01 30 01 64 01 30 01 30 01 30 
[ 2217.936837] ! 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30 
[ 2217.936841] ! 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61 
[ 2217.936873] ! 72 70 61 00 00 0c 80 01 00 00 00 78 00 0c 04 52 
[ 2217.936877] ! 34 32 30 05 6c 6f 63 61 6c 00 c0 60 00 1c 80 01 
[ 2217.936881] ! 00 00 00 78 00 10 fe 80 00 00 00 00 00 00 d0 1b 

[ 2218.036197] ! Unloading transmitting network module
[ 2218.036538] ! Hit: my_close(mynet0)

===========================================================================================================================

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo insmod transmit_simple.ko debug=2 && sleep 0.3 && sudo rmmod transmit_simple
[sudo] пароль для olej:       

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ dmesg | tail -n150
...
[ 2470.798616] EXT4-fs (sdc1): recovery complete
[ 2470.830416] EXT4-fs (sdc1): mounted filesystem with ordered data mode. Opts: (null)
[ 3271.294128] ! Loading transmitting network module:....
[ 3271.294130] ! debug level = 2
[ 3271.294488] ! Succeeded in loading mynet0!
[ 3271.316065] ! Hit: my_open(mynet0)
[ 3271.326878] ! my_hard_start_xmit(mynet0) - sending packet :
[ 3271.326881] ! ff ff ff ff ff ff 00 01 02 03 04 05 08 00 45 c0 
[ 3271.326883] ! 01 36 00 00 40 00 40 11 38 f8 00 00 00 00 ff ff 
[ 3271.326885] ! ff ff 00 44 00 43 01 22 9e 66 01 01 06 00 8c 40 
[ 3271.326886] ! 55 08 00 01 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326888] ! 00 00 00 00 00 00 00 01 02 03 04 05 00 00 00 00 
[ 3271.326890] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326891] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326893] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326894] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326896] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326897] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326899] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326901] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326902] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326904] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326905] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326907] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3271.326908] ! 00 00 00 00 00 00 63 82 53 63 35 01 01 3d 07 01 
[ 3271.326910] ! 00 01 02 03 04 05 37 11 01 02 06 0c 0f 1a 1c 79 
[ 3271.326911] ! 03 21 28 29 2a 77 f9 fc 11 39 02 02 40 0c 04 52 

[ 3271.342245] ! my_hard_start_xmit(mynet0) - sending packet :
[ 3271.342249] ! 33 33 00 00 00 16 00 01 02 03 04 05 86 dd 60 00 
[ 3271.342251] ! 00 00 00 38 00 01 fe 80 00 00 00 00 00 00 d0 1b 
[ 3271.342253] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 3271.342255] ! 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00 
[ 3271.342257] ! 94 a5 00 00 00 02 04 00 00 00 ff 02 00 00 00 00 
[ 3271.342259] ! 00 00 00 00 00 00 00 01 00 03 04 00 00 00 ff 02 

[ 3271.403754] ! my_hard_start_xmit(mynet0) - sending packet :
[ 3271.403760] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 3271.403764] ! 4b 0b 00 9c 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 3271.403767] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 3271.403771] ! 00 00 00 00 00 fb 14 e9 14 e9 00 9c cd 5d 00 00 
[ 3271.403774] ! 00 00 00 02 00 00 00 02 00 00 01 61 01 39 01 36 
[ 3271.403778] ! 01 32 01 63 01 33 01 64 01 65 01 62 01 35 01 33 
[ 3271.403781] ! 01 66 01 62 01 31 01 30 01 64 01 30 01 30 01 30 
[ 3271.403785] ! 01 30 01 30 01 30 01 30 01 30 01 30 01 30 01 30 
[ 3271.403788] ! 01 30 01 30 01 38 01 65 01 66 03 69 70 36 04 61 
[ 3271.403792] ! 72 70 61 00 00 ff 00 01 04 52 34 32 30 05 6c 6f 
[ 3271.403795] ! 63 61 6c 00 00 ff 00 01 c0 5a 00 1c 00 01 00 00 
[ 3271.403799] ! 00 78 00 10 fe 80 00 00 00 00 00 00 d0 1b f3 5b 
[ 3271.403802] ! ed 3c 26 9a c0 0c 00 0c 00 01 00 00 00 78 00 02 

[ 3271.424090] ! my_hard_start_xmit(mynet0) - sending packet :
[ 3271.424097] ! 33 33 00 01 00 03 00 01 02 03 04 05 86 dd 60 03 
[ 3271.424101] ! c7 bf 00 1e 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 3271.424105] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 3271.424109] ! 00 00 00 01 00 03 14 eb 14 eb 00 1e aa 8e ec f1 
[ 3271.424113] ! 00 00 00 01 00 00 00 00 00 00 04 52 34 32 30 00 

[ 3271.427109] ! my_hard_start_xmit(mynet0) - sending packet :
[ 3271.427115] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 3271.427119] ! 4b 0b 00 95 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 3271.427122] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 3271.427126] ! 00 00 00 00 00 fb 14 e9 14 e9 00 95 43 c0 00 00 
[ 3271.427129] ! 00 00 00 09 00 00 00 00 00 00 04 5f 6e 66 73 04 
[ 3271.427133] ! 5f 74 63 70 05 6c 6f 63 61 6c 00 00 0c 00 01 04 
[ 3271.427136] ! 5f 69 70 70 c0 11 00 0c 00 01 05 5f 69 70 70 73 
[ 3271.427140] ! c0 11 00 0c 00 01 04 5f 66 74 70 c0 11 00 0c 00 
[ 3271.427143] ! 01 07 5f 77 65 62 64 61 76 c0 11 00 0c 00 01 08 
[ 3271.427147] ! 5f 77 65 62 64 61 76 73 c0 11 00 0c 00 01 09 5f 
[ 3271.427150] ! 73 66 74 70 2d 73 73 68 c0 11 00 0c 00 01 04 5f 
[ 3271.427154] ! 73 6d 62 c0 11 00 0c 00 01 0b 5f 61 66 70 6f 76 

[ 3271.486232] ! my_hard_start_xmit(mynet0) - sending packet :
[ 3271.486239] ! 33 33 00 00 00 16 00 01 02 03 04 05 86 dd 60 00 
[ 3271.486243] ! 00 00 00 38 00 01 fe 80 00 00 00 00 00 00 d0 1b 
[ 3271.486247] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 3271.486250] ! 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00 
[ 3271.486254] ! 94 a5 00 00 00 02 04 00 00 00 ff 02 00 00 00 00 
[ 3271.486258] ! 00 00 00 00 00 00 00 01 00 03 04 00 00 00 ff 02 

[ 3271.486266] ! my_hard_start_xmit(mynet0) - sending packet :
[ 3271.486270] ! 33 33 00 00 00 16 00 01 02 03 04 05 86 dd 60 00 
[ 3271.486274] ! 00 00 00 38 00 01 fe 80 00 00 00 00 00 00 d0 1b 
[ 3271.486278] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 3271.486281] ! 00 00 00 00 00 16 3a 00 05 02 00 00 01 00 8f 00 
[ 3271.486285] ! 94 a5 00 00 00 02 04 00 00 00 ff 02 00 00 00 00 
[ 3271.486289] ! 00 00 00 00 00 00 00 01 00 03 04 00 00 00 ff 02 

[ 3271.611381] ! Unloading transmitting network module
[ 3271.611722] ! Hit: my_close(mynet0)

===========================================================================================================================

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ make
make -C /lib/modules/5.4.0-120-generic/build M=/home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net modules
make[1]: вход в каталог «/usr/src/linux-headers-5.4.0-120-generic»
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/transmit.o
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/receive.o
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/mulnet.o
  Building modules, stage 2.
  MODPOST 6 modules
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/devices.mod.o
  LD [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/devices.ko
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/mulnet.mod.o
  LD [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/mulnet.ko
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/network.mod.o
  LD [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/network.ko
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/receive.mod.o
  LD [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/receive.ko
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/transmit.mod.o
  LD [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/transmit.ko
  CC [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/transmit_simple.mod.o
  LD [M]  /home/olej/2022/own.BOOKs/BHV.kernel/examples/network/net/transmit_simple.ko
make[1]: выход из каталога «/usr/src/linux-headers-5.4.0-120-generic»



olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo insmod transmit.ko 

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ ip l
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000
    link/ether 90:b1:1c:54:3a:46 brd ff:ff:ff:ff:ff:ff
3: eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000
    link/ether 90:b1:1c:54:3a:47 brd ff:ff:ff:ff:ff:ff
4: team1: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default qlen 1000
    link/ether 9a:c5:0b:06:38:f7 brd ff:ff:ff:ff:ff:ff
11: mynet0: <BROADCAST,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN mode DEFAULT group default qlen 1000
    link/ether 00:01:02:03:04:05 brd ff:ff:ff:ff:ff:ff


olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo ethtool -S mynet0
no stats available

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo rmmod transmit

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ dmesg | tail -n50
[ 3831.670501] ! 01 36 00 00 40 00 40 11 38 f8 00 00 00 00 ff ff 
[ 3831.670503] ! ff ff 00 44 00 43 01 22 53 94 01 01 06 00 81 f6 
[ 3831.670506] ! aa 1f 00 06 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670508] ! 00 00 00 00 00 00 00 01 02 03 04 05 00 00 00 00 
[ 3831.670511] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670513] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670515] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670518] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670520] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670523] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670525] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670527] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670529] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670532] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670534] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670536] ! 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
[ 3831.670539] ! 00 00 00 00 00 00 63 82 53 63 35 01 01 3d 07 01 
[ 3831.670541] ! 00 01 02 03 04 05 37 11 01 02 06 0c 0f 1a 1c 79 
[ 3831.670544] ! 03 21 28 29 2a 77 f9 fc 11 39 02 02 40 0c 04 52 

[ 3831.863758] ! my_hard_start_xmit(mynet0) - Sending packet :
[ 3831.863765] ! 33 33 00 00 00 fb 00 01 02 03 04 05 86 dd 60 0f 
[ 3831.863769] ! 4b 0b 00 95 11 ff fe 80 00 00 00 00 00 00 d0 1b 
[ 3831.863773] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 
[ 3831.863777] ! 00 00 00 00 00 fb 14 e9 14 e9 00 95 43 c0 00 00 
[ 3831.863780] ! 00 00 00 09 00 00 00 00 00 00 04 5f 6e 66 73 04 
[ 3831.863784] ! 5f 74 63 70 05 6c 6f 63 61 6c 00 00 0c 00 01 04 
[ 3831.863788] ! 5f 69 70 70 c0 11 00 0c 00 01 05 5f 69 70 70 73 
[ 3831.863792] ! c0 11 00 0c 00 01 04 5f 66 74 70 c0 11 00 0c 00 
[ 3831.863796] ! 01 07 5f 77 65 62 64 61 76 c0 11 00 0c 00 01 08 
[ 3831.863800] ! 5f 77 65 62 64 61 76 73 c0 11 00 0c 00 01 09 5f 
[ 3831.863804] ! 73 66 74 70 2d 73 73 68 c0 11 00 0c 00 01 04 5f 
[ 3831.863808] ! 73 6d 62 c0 11 00 0c 00 01 0b 5f 61 66 70 6f 76 

[ 3832.081686] ! my_get_stats(mynet0)
[ 3832.082257] ! my_get_stats(mynet0)
[ 3833.071167] ! my_hard_start_xmit(mynet0) - Sending packet :
[ 3833.071172] ! 33 33 00 00 00 02 00 01 02 03 04 05 86 dd 60 08 
[ 3833.071175] ! f3 4b 00 08 3a ff fe 80 00 00 00 00 00 00 d0 1b 
[ 3833.071177] ! f3 5b ed 3c 26 9a ff 02 00 00 00 00 00 00 00 00 

[ 3834.466319] ! my_get_stats(mynet0)
[ 3834.468424] ! my_get_stats(mynet0)
[ 3835.079768] ! my_get_stats(mynet0)
[ 3839.675211] ! my_get_stats(mynet0)
[ 3839.677341] ! my_get_stats(mynet0)
[ 3839.688140] ! Unloading transmitting network module
[ 3839.688486] ! Hit: my_close(mynet0)
[ 3839.688500] ! my_get_stats(mynet0)
[ 3839.689017] ! my_get_stats(mynet0)


===========================================================================================================================

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo insmod devices.ko 
insmod: ERROR: could not insert module devices.ko: Operation not permitted

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ dmesg | tail -n6
[ 3965.706134] Hello: module loaded at 0xffffffffc0ba0000
[ 3965.706136] Hello: dev_base address=0xffff9edb4b192000
[ 3965.706142] name=lo     irq=0   MAC=00:00:00:00:00:00 rx_bytes=40662    tx_bytes=40662    
[ 3965.706146] name=eno1   irq=16  MAC=90:b1:1c:54:3a:46 rx_bytes=2985778  tx_bytes=546961   
[ 3965.706149] name=eno2   irq=17  MAC=90:b1:1c:54:3a:47 rx_bytes=1723453  tx_bytes=94851    
[ 3965.706154] name=team1  irq=0   MAC=9a:c5:0b:06:38:f7 rx_bytes=0        tx_bytes=0       


---------------------------------------------------------------------------------------------------------------------------

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo insmod transmit_simple.ko


olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ ip l
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000
    link/ether 90:b1:1c:54:3a:46 brd ff:ff:ff:ff:ff:ff
3: eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000
    link/ether 90:b1:1c:54:3a:47 brd ff:ff:ff:ff:ff:ff
4: team1: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default qlen 1000
    link/ether 9a:c5:0b:06:38:f7 brd ff:ff:ff:ff:ff:ff
12: mynet0: <BROADCAST,MULTICAST,NOARP,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UNKNOWN mode DEFAULT group default qlen 1000
    link/ether 00:01:02:03:04:05 brd ff:ff:ff:ff:ff:ff


olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo insmod devices.ko 
insmod: ERROR: could not insert module devices.ko: Operation not permitted



olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ sudo rmmod transmit_simple

olej@R420:~/2022/own.BOOKs/BHV.kernel/examples/network/net$ dmesg | tail -n9
[ 4224.499207] Hello: module loaded at 0xffffffffc0ba5000
[ 4224.499209] Hello: dev_base address=0xffff9edb4b192000
[ 4224.499215] name=lo     irq=0   MAC=00:00:00:00:00:00 rx_bytes=41363    tx_bytes=41363    
[ 4224.499219] name=eno1   irq=16  MAC=90:b1:1c:54:3a:46 rx_bytes=3104777  tx_bytes=567090   
[ 4224.499222] name=eno2   irq=17  MAC=90:b1:1c:54:3a:47 rx_bytes=1828382  tx_bytes=96923    
[ 4224.499229] name=team1  irq=0   MAC=9a:c5:0b:06:38:f7 rx_bytes=0        tx_bytes=0        
[ 4224.499232] name=mynet0 irq=0   MAC=00:01:02:03:04:05 rx_bytes=0        tx_bytes=0        
[ 4248.854303] ! Unloading transmitting network module
[ 4248.854688] ! Hit: my_close(mynet0)


===========================================================================================================================
